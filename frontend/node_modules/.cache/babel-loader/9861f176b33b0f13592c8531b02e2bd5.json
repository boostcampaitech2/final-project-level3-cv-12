{"ast":null,"code":"var _jsxFileName = \"/Users/chaeyounglim/Desktop/project-canvas-frontend/src/buttons/Buttons.tsx\",\n    _s = $RefreshSig$();\n\nimport '../styles/styles.css';\nimport { useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Buttons({\n  canvasRef,\n  drawingstate,\n  brushsize,\n  erasersize,\n  setBrushsize,\n  setErasersize,\n  setDrawingstate,\n  outputRef,\n  background,\n  setBackground,\n  realtime,\n  setRealtime,\n  fetchImage\n}) {\n  _s();\n\n  const uploadRef = useRef(null);\n\n  const convertCanvases = () => {\n    if (!canvasRef.current) {\n      return;\n    }\n\n    fetchImage();\n  };\n\n  const handleBackground = event => {\n    if (!canvasRef.current) {\n      return;\n    }\n\n    setBackground(!background);\n  };\n\n  const handleRealtime = () => {\n    if (!canvasRef.current) {\n      return;\n    }\n\n    setRealtime(!realtime);\n  };\n\n  const handleBrush = event => {\n    if (!canvasRef.current) {\n      return;\n    }\n\n    const size = event.target.value;\n    setBrushsize(+size);\n  };\n\n  const handleEraser = event => {\n    if (!canvasRef.current) {\n      return;\n    }\n\n    const size = event.target.value;\n    setErasersize(+size);\n  };\n\n  const modeChange = () => {\n    if (!canvasRef.current) {\n      return;\n    }\n\n    setDrawingstate(!drawingstate);\n  };\n\n  const clearCanvas = () => {\n    if (!canvasRef.current) {\n      return;\n    }\n\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    if (context) {\n      context.fillStyle = \"white\"; // 선 색깔\n\n      context.fillRect(0, 0, 512, 512);\n    }\n  };\n\n  const downloadhandler = function () {\n    if (!outputRef.current) {\n      return;\n    }\n\n    const canvas = outputRef.current;\n    const context = canvas.getContext('2d');\n    const link = document.createElement('a');\n\n    if (context) {\n      link.href = canvas.toDataURL();\n      link.setAttribute('download', 'youridol.png');\n      link.setAttribute('crossorigin', 'anonymous');\n      link.click();\n    }\n  };\n\n  const uploadhandler = () => {\n    var _uploadRef$current;\n\n    return uploadRef === null || uploadRef === void 0 ? void 0 : (_uploadRef$current = uploadRef.current) === null || _uploadRef$current === void 0 ? void 0 : _uploadRef$current.click();\n  };\n\n  const uploading = function (e) {\n    if (!canvasRef.current) {\n      return;\n    }\n\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    if (context) {\n      console.log('update');\n      var reader = new FileReader();\n\n      reader.onload = function (event) {\n        if (!event || !event.target) {\n          return;\n        }\n\n        ;\n        var img = new Image();\n        console.log(event.target.result);\n        img.src = event.target.result;\n\n        img.onload = function () {\n          context.drawImage(img, 0, 0);\n        };\n      };\n\n      console.log('update');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Buttons1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Buttonblocks\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" Background \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: background,\n        onChange: handleBackground\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" Brush size : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"range\",\n        id: \"paintRange\",\n        min: \"0.1\",\n        max: \"10\",\n        value: brushsize,\n        step: \"0.1\",\n        onChange: handleBrush\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" Eraser size : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"range\",\n        id: \"eraseRange\",\n        min: \"0.1\",\n        max: \"100\",\n        value: erasersize,\n        step: \"0.1\",\n        onChange: handleEraser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Buttonblocks\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: realtime ? \"bg-blue-500 hover:bg-blue-400 border-blue-700 hover:border-blue-500 text-white font-bold py-2 px-4 border-b-4  rounded\" : \"bg-red-500 hover:bg-red-400 border-red-700 hover:border-red-500 text-white font-bold py-2 px-4 border-b-4  rounded\",\n        onClick: handleRealtime,\n        children: [\"REALTIME \", realtime ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \" ON \\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \" OFF\\uD83D\\uDEAB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\",\n        onClick: convertCanvases,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"CONVERT \\uD83D\\uDCA3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\",\n        onClick: modeChange,\n        children: drawingstate ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"BRUSH \\uD83E\\uDE84\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"ERASER \\uD83D\\uDDB1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Buttonblocks\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\",\n        onClick: clearCanvas,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"CLEAR \\uD83E\\uDD61\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\",\n        onClick: uploadhandler,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: uploadRef,\n        type: \"file\",\n        style: {\n          display: \"none\"\n        },\n        accept: \"image/*\",\n        name: \"profile_img\",\n        onClick: uploading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\",\n        onClick: downloadhandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"fill-current w-4 h-4 mr-2\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          viewBox: \"0 0 20 20\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 104\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Buttons, \"SakckBXb+XvvYQAxjxb/XJytYvw=\");\n\n_c = Buttons;\nexport default Buttons;\n\nvar _c;\n\n$RefreshReg$(_c, \"Buttons\");","map":{"version":3,"sources":["/Users/chaeyounglim/Desktop/project-canvas-frontend/src/buttons/Buttons.tsx"],"names":["useRef","Buttons","canvasRef","drawingstate","brushsize","erasersize","setBrushsize","setErasersize","setDrawingstate","outputRef","background","setBackground","realtime","setRealtime","fetchImage","uploadRef","convertCanvases","current","handleBackground","event","handleRealtime","handleBrush","size","target","value","handleEraser","modeChange","clearCanvas","canvas","context","getContext","fillStyle","fillRect","downloadhandler","link","document","createElement","href","toDataURL","setAttribute","click","uploadhandler","uploading","e","console","log","reader","FileReader","onload","img","Image","result","src","drawImage","display"],"mappings":"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","sourcesContent":["import '../styles/styles.css';\nimport { useRef} from 'react';\n\ninterface InputProps {\n\tcanvasRef: React.RefObject<HTMLCanvasElement>;\n\tdrawingstate: boolean;\n\tbrushsize: number;\n\terasersize: number;\n\tsetBrushsize: React.Dispatch<React.SetStateAction<number>>;\n\tsetErasersize: React.Dispatch<React.SetStateAction<number>>;\n\tsetDrawingstate: React.Dispatch<React.SetStateAction<boolean>>;\n\tbackground: boolean;\n\tloading: boolean;\n\tsetBackground: React.Dispatch<React.SetStateAction<boolean>>;\n\tsetLoading: React.Dispatch<React.SetStateAction<boolean>>;\n\tfetchImage: () => void;\n\toutputRef: React.RefObject<HTMLCanvasElement>;\n\trealtime: boolean;\n\tsetRealtime: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\n\nfunction Buttons({canvasRef, drawingstate, brushsize, erasersize, setBrushsize, setErasersize,\n\tsetDrawingstate, outputRef, background, setBackground, realtime, setRealtime, fetchImage} : InputProps) {\n\n\tconst uploadRef = useRef<HTMLInputElement>(null);\n\tconst convertCanvases = () => {\n\t\tif (!canvasRef.current) { return; }\n\t\tfetchImage();\n\t}\n\n\tconst handleBackground = (event: React.ChangeEvent<HTMLInputElement>) : number | undefined => {\n\t\tif (!canvasRef.current) { return; }\n\t\tsetBackground(!background);\n\t}\n\n\tconst handleRealtime = () => {\n\t\tif (!canvasRef.current) { return; }\n\t\tsetRealtime(!realtime);\n\t}\n\n\tconst handleBrush = (event: React.ChangeEvent<HTMLInputElement>) : number | undefined => {\n\t\tif (!canvasRef.current) { return; }\n\t\tconst size:string = event.target.value;\n\t\tsetBrushsize(+size);\n\t}\n\tconst handleEraser = (event: React.ChangeEvent<HTMLInputElement>) : number | undefined => {\n\t\tif (!canvasRef.current) { return; }\n\t\tconst size:string = event.target.value;\n\t\tsetErasersize(+size);\n\t}\n\tconst modeChange = () => {\n\t\tif (!canvasRef.current) { return; }\n\t\tsetDrawingstate(!drawingstate);\n\t}\n\tconst clearCanvas = () => {\n\t\tif (!canvasRef.current) { return; }\n\t\tconst canvas: HTMLCanvasElement = canvasRef.current;\n\t\tconst context = canvas.getContext('2d');\n\t\tif (context) {\n\t\t\tcontext.fillStyle = \"white\";  // 선 색깔\n\t\t\tcontext.fillRect(0, 0, 512, 512);\n\t\t}\n\t}\n\n\tconst downloadhandler = function(){\n\t\tif (!outputRef.current) { return; }\n\t\tconst canvas: HTMLCanvasElement = outputRef.current;\n\t\tconst context = canvas.getContext('2d');\n\t\tconst link = document.createElement('a');\n\t\tif (context) {\n\t\t\tlink.href = canvas.toDataURL();\n\t\t\tlink.setAttribute(\n\t\t\t\t'download',\n\t\t\t\t'youridol.png',\n\t\t\t);\n\t\t\tlink.setAttribute('crossorigin', 'anonymous');\n\t\t\tlink.click();\n\t\t}\n\t}\n\n\tconst uploadhandler = () => uploadRef?.current?.click();\n\n\tconst uploading = function(e : any){\n\t\tif (!canvasRef.current) { return; }\n\t\tconst canvas: HTMLCanvasElement = canvasRef.current;\n\t\tconst context = canvas.getContext('2d');\n\t\tif (context) {\n\t\t\tconsole.log('update');\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function(event){\n\t\t\t\tif (!event || !event.target) { return };\n\t\t\t\tvar img = new Image();\n\t\t\t\tconsole.log(event.target.result);\n\t\t\t\timg.src = event.target.result as string;\n\t\t\t\timg.onload = function(){\n\t\t\t\t\tcontext.drawImage(img,0,0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log('update');\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<div className='Buttons1'>\n\t\t\t<div className='Buttonblocks'>\n\t\t\t\t<span> Background </span>\n\t\t\t\t<input type=\"checkbox\" checked={background} onChange={handleBackground}></input>\n\t\t\t\t<span> Brush size : </span>\n\t\t\t\t<input type=\"range\" id=\"paintRange\" min=\"0.1\" max=\"10\" value={brushsize} step=\"0.1\" onChange={handleBrush}/>\n\t\t\t\t<span> Eraser size : </span>\n\t\t\t\t<input type=\"range\" id=\"eraseRange\" min=\"0.1\" max=\"100\" value={erasersize} step=\"0.1\" onChange={handleEraser}/>\n\t\t\t</div>\n\t\t\t<div className='Buttonblocks'>\n\t\t\t\t<button className={(realtime ? \"bg-blue-500 hover:bg-blue-400 border-blue-700 hover:border-blue-500 text-white font-bold py-2 px-4 border-b-4  rounded\" : \"bg-red-500 hover:bg-red-400 border-red-700 hover:border-red-500 text-white font-bold py-2 px-4 border-b-4  rounded\")} onClick={handleRealtime}>\n\t\t\t\tREALTIME { realtime ? <div> ON ✅</div>  : <div> OFF🚫</div>}\n\t\t\t\t</button>\n\t\t\t\t<button className=\"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\" onClick={convertCanvases}>\n\t\t\t\t <div>CONVERT 💣</div>\n\t\t\t\t</button>\n\t\t\t\t<button className=\"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\" onClick={modeChange}>\n\t\t\t\t\t{drawingstate ?  <div>BRUSH 🪄</div> : <div>ERASER 🖱</div>}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className='Buttonblocks'>\n\t\t\t\t<button className=\"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\" onClick={clearCanvas}>\n\t\t\t\t\t<div>CLEAR 🥡</div>\n\t\t\t\t\t</button>\n\t\t\t\t<button className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\" onClick={uploadhandler}>\n\t\t\t\t\t<div>Upload</div>\n\t\t\t\t</button>\n\t\t\t\t<input ref={uploadRef as React.RefObject<HTMLInputElement>} type='file'\n\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\taccept='image/*'\n\t\t\t\t\tname='profile_img'\n\t\t\t\t\tonClick={uploading}>\n\t\t\t\t</input>\n\t\t\t\t<button className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\" onClick={downloadhandler}>\n\t\t\t\t\t<div>Download</div>\n\t\t\t\t\t<svg className=\"fill-current w-4 h-4 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/></svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Buttons;"]},"metadata":{},"sourceType":"module"}